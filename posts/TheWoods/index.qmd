---
title: The Woods
date: 2025-07-20
order: 20250720
description: "Comments on The Woods."
css: styles.css 
draft: true
draft-mode: unlinked
---

Some stuff about The Woods.

 
<div id="container">
<div id="map"></div>
<div id="controls"> 

```{ojs}
viewof map_style = {
  const styles = [ 
    {label: "Standard", value: "mapbox://styles/mapbox/standard"},
    {label: "Satellite", value: "mapbox://styles/mapbox/standard-satellite"}
  ];
  return Inputs.radio(
    styles,
    {value: styles[0], label: "Set map style", format: o => o.label}
  )
}
```
```{ojs}
viewof show_construction = Inputs.toggle(
  {value: false, label: "Show construction:"}
)
```

</div>

<div id="full_screen_container" data-collapse_status="collapsed">
  <i class="fa-solid fa-expand"></i>
</div>
</div>

::: {.hidden}



```{python}
import os
MAPBOX_TOKEN = os.getenv('MAPBOX_TOKEN')
ojs_define(MAPBOX_TOKEN = MAPBOX_TOKEN)
```


<!---
```{ojs} 
import {make_map} from './components/make_map.js' 
construction_data = await
  FileAttachment('./data/DevelopmentDrawingClippedVM.json').json();
map = make_map(construction_data)
```
-->


```{ojs}
import {make_map} from './components/make_map.js'
window.MAPBOX_TOKEN = MAPBOX_TOKEN;
map = {
  let map_data = await FileAttachment("./data/map_data.json").json();
  map_data = Object.fromEntries(
    Object.keys(map_data.objects).map(function (key) {
      return [key, topojson.feature(map_data, map_data.objects[key])];
    })
  );
  const map = make_map(map_data);
  return map
}
```


```{ojs}
{
  map.show_construction = show_construction
  map.set_style(map_style.value)
}
```


```{ojs}
d3.select("#full_screen_container")
  .on('click', function() {
    const thisD3 = d3.select(this);
    if(thisD3.attr('data-collapse_status') == "collapsed") {
      d3.select("#map")
        .style('height', '100vh');
      d3.select("#container")
        .style('height', '100vh')
        .node().requestFullscreen();
      thisD3.select('i').attr('class', "fa-solid fa-compress");
      thisD3.attr('data-collapse_status', 'expanded')
    }
    else {
      document.exitFullscreen();
      d3.select("#map")
        .style('height', '75vh');
      d3.select("#container")
        .style('height', '75vh');
      thisD3.select('i').attr('class', "fa-solid fa-expand");
      thisD3.attr('data-collapse_status', 'collapsed')
    }
  });
```
<script>
  document.addEventListener('keydown', function(event) {
    if (event.key === 'Escape') {
      document.querySelector('#container').style.height = '75vh';
      document.querySelector('#map').style.height = '75vh';
    }
  });
</script>


::: 
